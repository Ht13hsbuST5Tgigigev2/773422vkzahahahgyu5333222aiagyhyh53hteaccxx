<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Aqri BIG — profile</title>

  <!-- Perf: reduce layout jank + early connection -->
  <link rel="preconnect" href="https://r2.guns.lol" crossorigin>
  <link rel="dns-prefetch" href="//r2.guns.lol">

  <style>
    :root{
      --bg:#070709;
      --ink:#ffffff;
      --ink-dim:rgba(255,255,255,.7);
      --ink-faint:rgba(255,255,255,.45);
      --accent:#2f5bff;
      --card-1:#0b0f3a;
      --card-2:#0a0a1f;
      --border:rgba(255,255,255,.08);
      --glass:rgba(17,17,20,.55);
      --radius:22px;
      --shadow:0 12px 40px rgba(0,0,0,.45);
      --tile: #0c0c12;
      --tile-border: rgba(255,255,255,.12);
      --focus: 0 0 0 3px rgba(47,91,255,.45);

      /* sizing */
      --wrap-w: 780px;
      --gap: 18px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink);
      background:var(--bg);
      overflow-x:hidden;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      text-rendering:optimizeLegibility;
    }

    /* --- Background layer (cheap + pretty) --- */
    .bg{
      position:fixed; inset:0; pointer-events:none; z-index:-2;
      background:
        radial-gradient(60vmax 60vmax at 10% 10%, rgba(47,91,255,.14), transparent 60%),
        radial-gradient(70vmax 70vmax at 90% 90%, rgba(47,91,255,.2), transparent 60%),
        linear-gradient(180deg,#06060a, #090914 40%, #06060a);
      filter:saturate(110%);
    }
    .bg::after{
      content:""; position:absolute; inset:-20vmax;
      background:
        url('https://r2.guns.lol/6dfbe557-c600-44db-8cb5-611908da632d.webp')
        center/cover no-repeat;
      opacity:.22; filter:blur(6px) contrast(110%);
      mix-blend-mode:screen;
    }

    /* subtle animated sheen on the main card */
    @keyframes sheen {
      0%{transform:translateX(-120%)}
      100%{transform:translateX(120%)}
    }

    .center {min-height:100dvh; display:grid; place-items:center; padding:8vmin 3vmin 18vmin}

    .card{
      width:min(var(--wrap-w), 92vw);
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--card-1), var(--card-2));
      box-shadow: var(--shadow);
      border:1px solid var(--border);
      padding: 34px clamp(18px,4vmin,36px) 28px;
      position:relative;
      isolation:isolate;
      overflow:hidden;
    }
    .card::before{
      /* animated light streak */
      content:""; position:absolute; inset:0; pointer-events:none;
      background:linear-gradient(120deg, transparent 40%, rgba(255,255,255,.18), transparent 60%);
      mix-blend-mode:overlay; transform:translateX(-120%);
      animation: sheen 6.5s ease-in-out infinite;
    }
    @media (prefers-reduced-motion: reduce){
      .card::before{ animation:none; display:none }
    }

    /* Avatar */
    .avatar{
      width:110px; height:110px; display:block; margin:0 auto 16px;
      border-radius:50%; object-fit:cover;
      border:2px solid rgba(255,255,255,.15);
      box-shadow:0 8px 24px rgba(0,0,0,.35);
      background:#111;
    }

    /* Title & tag */
    .title{
      font-weight:900;
      font-size: clamp(34px, 6vw, 48px);
      line-height:1;
      text-align:center; margin:0;
      letter-spacing:.2px; position:relative;
      text-shadow: 0 0 14px rgba(255,255,255,.6), 0 0 28px rgba(255,255,255,.24);
    }
    .tag{ text-align:center; margin:.55rem 0 1.1rem; color:var(--ink-dim); font-weight:600; letter-spacing:.3px }

    /* Links grid */
    .links{
      display:grid; gap:var(--gap); justify-content:center; margin-top:10px;
      grid-template-columns: repeat( auto-fit, minmax(106px, 106px) );
    }
    .tile{
      width:106px; height:106px; border-radius:18px; overflow:hidden;
      display:grid; place-items:center; position:relative;
      background:var(--tile);
      border:1px solid var(--tile-border);
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      box-shadow: 0 6px 16px rgba(0,0,0,.25);
      outline: none;
    }
    .tile:focus-visible{ box-shadow: var(--focus) }
    .tile:hover{ transform: translateY(-4px); border-color: rgba(255,255,255,.22) }
    .tile img{ width:100%; height:100%; object-fit:cover; display:block }
    .tile .hint{
      position:absolute; left:10px; bottom:8px; font-size:12px; font-weight:700;
      padding:.25rem .45rem; border-radius:8px; background:rgba(0,0,0,.55);
      border:1px solid rgba(255,255,255,.2); color:#fff; text-transform:lowercase;
      backdrop-filter: blur(6px);
    }

    /* Floating volume toggle */
    .dock{
      position:fixed; top:16px; left:16px; z-index:3; display:flex; gap:10px;
    }
    .ghost-btn{
      background: var(--glass);
      border:1px solid rgba(255,255,255,.12);
      min-width:44px; height:44px; display:grid; place-items:center;
      border-radius:12px; backdrop-filter: blur(10px);
      cursor:pointer; color:#fff;
      transition: background .18s ease, transform .12s ease;
    }
    .ghost-btn:hover{ background: rgba(255,255,255,.12) }
    .ghost-btn:active{ transform: scale(.98) }
    .ghost-btn:focus-visible{ box-shadow: var(--focus) outline:none }

    /* Player */
    .player{
      position:fixed; left:50%; transform:translateX(-50%);
      bottom:22px; background: rgba(13,13,16,.86);
      border:1px solid rgba(255,255,255,.12);
      width:min(760px, 92vw); border-radius:18px;
      display:flex; align-items:center; gap:16px; padding:12px 14px;
      box-shadow:var(--shadow); backdrop-filter: blur(10px);
      opacity:0; pointer-events:none; transition:.3s ease;
    }
    body.ready .player{ opacity:1; pointer-events:auto }

    .cover{ width:64px; height:64px; border-radius:14px; object-fit:cover; background:#111 }
    .meta{ flex:1; min-width:0 }
    .title-sm{ font-weight:800; font-size:16px; margin:0 0 6px; letter-spacing:.2px }
    .bar{ height:8px; width:100%; border-radius:6px; background: rgba(255,255,255,.2); position:relative; overflow:hidden; cursor:pointer }
    .bar > span{ position:absolute; inset:0 100% 0 0; background:#fff; transition: inset .06s linear }
    .times{ display:flex; justify-content:space-between; font-size:13px; color:var(--ink-dim); margin-top:6px }
    .controls{ display:flex; gap:10px; align-items:center }
    .btn{ width:38px; height:38px; border-radius:12px; display:grid; place-items:center; background: rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.12); cursor:pointer }
    .btn:hover{ background: rgba(255,255,255,.2) }
    .btn:focus-visible{ box-shadow: var(--focus); outline:none }

    /* Enter gate */
    .gate{
      position:fixed; inset:0; display:grid; place-items:center;
      background: rgba(7,7,10,.74);
      backdrop-filter: blur(6px);
      z-index: 9999;
      transition: opacity .35s ease, transform .35s ease;
    }
    .gate[hidden]{ opacity:0; transform: scale(1.02); pointer-events:none }
    .gate .box{
      font-weight:900; font-size: clamp(26px, 4.6vw, 32px);
      letter-spacing:.5px; color:#fff; text-transform: lowercase;
      filter: drop-shadow(0 0 10px rgba(255,255,255,.8));
      animation: pulse 2.2s ease-in-out infinite;
    }
    @keyframes pulse{
      0%,100%{ opacity:.86; transform:translateY(0) }
      50%{ opacity:1; transform:translateY(-2px) }
    }
    @media (prefers-reduced-motion: reduce){
      .gate .box{ animation:none }
    }

    /* Responsive tweaks */
    @media (max-width:520px){
      .links{ grid-template-columns: repeat(2, 96px) }
      .tile{ width:96px; height:96px }
    }

    /* progressive image skeleton */
    .skeleton{ position:relative; overflow:hidden; background:rgba(255,255,255,.05) }
    .skeleton::after{
      content:""; position:absolute; inset:0;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent);
      animation: sk 1.2s infinite;
      transform:translateX(-100%);
    }
    @keyframes sk{
      100%{ transform:translateX(100%) }
    }
    @media (prefers-reduced-motion: reduce){
      .skeleton::after{ animation:none }
    }
  </style>
</head>
<body>
  <div class="bg" aria-hidden="true"></div>

  <!-- Dock (mute + theme in the future if needed) -->
  <div class="dock" role="toolbar" aria-label="Quick actions">
    <button class="ghost-btn" id="muteBtn" aria-pressed="false" title="Mute / Unmute (M)">
      <!-- speaker icon -->
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M11 5.5v13l-4-3H4a1.5 1.5 0 0 1-1.5-1.5v-4A1.5 1.5 0 0 1 4 8.5h3l4-3Zm6.82-.32a1 1 0 1 1 1.41 1.41A8 8 0 0 1 20 12a8 8 0 0 1-.77 3.41a1 1 0 1 1-1.82-.8c.43-.98.66-2.06.66-3.18c0-1.12-.23-2.2-.66-3.18a1 1 0 0 1 .59-1.28Zm-2.86 2.86a1 1 0 0 1 1.41 0A5 5 0 0 1 17 12a5 5 0 0 1-1.63 3.68a1 1 0 0 1-1.41-1.42A3 3 0 0 0 14.99 12c0-.84-.33-1.6-.86-2.14a1 1 0 0 1 0-1.41Z"/>
      </svg>
    </button>
  </div>

  <!-- Click-to-enter (starts audio on user gesture) -->
  <div id="gate" class="gate" role="dialog" aria-modal="true" aria-label="Click to enter">
    <div class="box">click to enter…</div>
  </div>

  <main class="center">
    <section class="card" role="region" aria-label="Profile card" >
      <img
        class="avatar skeleton"
        alt="Avatar"
        src="https://r2.guns.lol/068d40a2-bf75-4b60-8e93-f0b3bfbb4abb.webp"
        decoding="async" loading="eager" />

      <h1 class="title">Aqri BIG</h1>
      <div class="tag">CheapKeyz owner + Sigma</div>

      <div class="links" aria-label="Links">
        <a class="tile" href="https://bitdancer.shop" target="_blank" rel="noopener" aria-label="Open bitdancer shop">
          <img class="skeleton" alt="bitdancer" src="https://r2.guns.lol/101c5120-cd86-4fbb-bd11-614674a1bee0.webp" decoding="async" loading="lazy"/>
          <span class="hint">bitdancer</span>
        </a>

        <a class="tile" href="https://cheapkeyz.store" target="_blank" rel="noopener" aria-label="Open CheapKeyz store">
          <img class="skeleton" alt="cheapkeyz" src="https://r2.guns.lol/be998c31-c38f-49fa-a4d8-26f0a1eb09e3.webp" decoding="async" loading="lazy"/>
          <span class="hint">cheapkeyz</span>
        </a>
      </div>

      <!-- views counter removed -->
    </section>
  </main>

  <!-- Audio Player -->
  <section class="player" aria-label="Audio player">
    <img class="cover skeleton" alt="cover" src="https://r2.guns.lol/1240ef21-1380-433c-8865-7dbe89724e52.webp" decoding="async" loading="lazy"/>
    <div class="meta">
      <h3 class="title-sm" id="trackTitle">sirmeme</h3>
      <div class="bar" id="progress" role="slider" aria-label="Seek" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" tabindex="0"><span></span></div>
      <div class="times"><span id="cur">0:00</span><span id="dur">0:00</span></div>
    </div>
    <div class="controls" role="group" aria-label="Player controls">
      <button class="btn" id="playBtn" aria-label="Play / Pause (Space)">
        <!-- Play -->
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M10 17.5v-11l7 5.5l-7 5.5Z"/></svg>
      </button>
      <button class="btn" id="restartBtn" aria-label="Restart (R)">
        <!-- Restart -->
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M7.58 16.89L13.35 12L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82M16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1"/></svg>
      </button>
    </div>
    <audio id="audio" preload="none" src="https://r2.guns.lol/f8160b9a-55c6-44ed-ad7a-15059592bbb2.mp3"></audio>
  </section>

  <script>
    // ---------- Utilities ----------
    const $ = sel => document.querySelector(sel);
    const fmt = s => {
      if (!Number.isFinite(s)) return '0:00';
      s = Math.max(0, Math.floor(s));
      const m = Math.floor(s/60), r = s%60; return m+':' + String(r).padStart(2,'0');
    };

    // ---------- Elements ----------
    const audio = $('#audio');
    const playBtn = $('#playBtn');
    const restartBtn = $('#restartBtn');
    const muteBtn = $('#muteBtn');
    const cur = $('#cur');
    const dur = $('#dur');
    const progress = $('#progress');
    const bar = progress.firstElementChild;
    const gate = $('#gate');

    // ---------- Audio logic ----------
    let raf;

    function paint(){
      cur.textContent = fmt(audio.currentTime);
      dur.textContent = fmt(audio.duration);
      const p = (audio.currentTime / (audio.duration||1)) * 100;
      bar.style.inset = `0 ${100 - Math.min(100,p)}% 0 0`;
      progress.setAttribute('aria-valuenow', Math.round(p));
      raf = requestAnimationFrame(paint);
    }

    function setPlayIcon(paused){
      playBtn.innerHTML = paused
        // Play
        ? '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M10 17.5v-11l7 5.5l-7 5.5Z"/></svg>'
        // Pause
        : '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M8 19q-.825 0-1.412-.587T6 17V7q0-.825.588-1.412T8 5t1.413.588T10 7v10q0 .825-.587 1.413T8 19m8 0q-.825 0-1.412-.587T14 17V7q0-.825.588-1.412T16 5t1.413.588T18 7v10q0 .825-.587 1.413T16 19"/></svg>';
    }

    function easeInVolume(target=0.85){
      try{
        audio.volume = 0;
        const step = 0.05;
        const tick = () => {
          const v = Math.min(target, audio.volume + step);
          audio.volume = v;
          if(v < target) requestAnimationFrame(tick);
        };
        requestAnimationFrame(tick);
      }catch{}
    }

    // Persist mute between visits
    const MUTE_KEY = 'aqribig.muted';
    try{
      audio.muted = localStorage.getItem(MUTE_KEY) === '1';
      muteBtn.setAttribute('aria-pressed', audio.muted ? 'true' : 'false');
      muteBtn.style.opacity = audio.muted ? .65 : 1;
    }catch{}

    audio.addEventListener('play', () => {
      cancelAnimationFrame(raf);
      raf = requestAnimationFrame(paint);
      setPlayIcon(false);
    });
    audio.addEventListener('pause', () => {
      cancelAnimationFrame(raf);
      paint();
      setPlayIcon(true);
    });
    audio.addEventListener('loadedmetadata', paint);

    playBtn.addEventListener('click', () => audio.paused ? audio.play() : audio.pause());
    restartBtn.addEventListener('click', () => { audio.currentTime = 0; if(audio.paused) audio.play(); });

    // click/drag to seek
    function seekTo(clientX){
      const rect = progress.getBoundingClientRect();
      const x = Math.min(Math.max(0, clientX - rect.left), rect.width);
      const pct = x / rect.width;
      audio.currentTime = pct * (audio.duration || 0);
    }
    progress.addEventListener('click', e => seekTo(e.clientX));
    let dragging = false;
    progress.addEventListener('pointerdown', e => { dragging = true; progress.setPointerCapture(e.pointerId); seekTo(e.clientX); });
    progress.addEventListener('pointermove', e => { if(dragging) seekTo(e.clientX); });
    progress.addEventListener('pointerup',   e => { dragging = false; });

    // keyboard shortcuts
    window.addEventListener('keydown', (e)=>{
      if (e.key === ' '){ e.preventDefault(); audio.paused ? audio.play() : audio.pause(); }
      if (e.key.toLowerCase() === 'r'){ audio.currentTime = 0; if(audio.paused) audio.play(); }
      if (e.key.toLowerCase() === 'm'){ audio.muted = !audio.muted; syncMuteUI(); }
      if (e.key === 'ArrowRight'){ audio.currentTime = Math.min(audio.duration||0, audio.currentTime + 5); }
      if (e.key === 'ArrowLeft'){ audio.currentTime = Math.max(0, audio.currentTime - 5); }
      if (e.key === '+' || e.key === '='){ audio.volume = Math.min(1, (audio.volume||0) + .05); }
      if (e.key === '-' || e.key === '_'){ audio.volume = Math.max(0, (audio.volume||0) - .05); }
    });

    // mute toggle
    function syncMuteUI(){
      try{ localStorage.setItem(MUTE_KEY, audio.muted ? '1' : '0'); }catch{}
      muteBtn.setAttribute('aria-pressed', audio.muted ? 'true' : 'false');
      muteBtn.style.opacity = audio.muted ? .65 : 1;
    }
    muteBtn.addEventListener('click', ()=>{
      audio.muted = !audio.muted; syncMuteUI();
    });

    // ---------- Enter gate: start playback on gesture ----------
    async function enter(){
      document.body.classList.add('ready');
      const gate = document.getElementById('gate');
      gate.setAttribute('hidden','');
      try{
        // Only load the audio when entering (perf)
        if(audio.preload !== 'auto'){ audio.preload = 'auto'; }
        await audio.play();
        easeInVolume(.85);
      }catch(e){
        // Autoplay might still be blocked — keep the gate visible if failed
        gate.removeAttribute('hidden');
      }
    }
    gate.addEventListener('click', enter);
    window.addEventListener('keydown', (e)=>{ if(e.key==='Enter' && !document.body.classList.contains('ready')) enter(); });

    // remove skeletons once media loads
    document.querySelectorAll('img').forEach(img=>{
      img.addEventListener('load', ()=> img.classList.remove('skeleton'), { once:true });
    });
  </script>
</body>
</html>
